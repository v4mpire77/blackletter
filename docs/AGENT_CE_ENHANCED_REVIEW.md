# Enhanced Context Engineering Prompt: REVIEW (GitLens Integrated)

## 🎯 Purpose
This enhanced prompt ensures ALL code review and analysis tasks follow the Context Engineering Framework while leveraging GitLens data for superior context understanding and more informed feedback.

## 📋 Required Context

### MANDATORY Documentation Review
- ✅ **Implementation Plan** (`docs/Implementation.md`) - Feature requirements and architecture
- ✅ **Project Structure** (`docs/project_structure.md`) - Code organization standards
- ✅ **Development Workflow** (`docs/Development_Agent_Workflow.md`) - Quality standards
- ✅ **Bug Tracking** (`docs/Bug_tracking.md`) - Issue patterns and prevention
- ✅ **Security Audit Report** (`docs/SECURITY_AUDIT_REPORT.md`) - Security requirements

### MANDATORY Codebase Context
- ✅ **Current Implementation** - Understand what's being reviewed
- ✅ **Architectural Patterns** - Know established design patterns
- ✅ **Component Library** - Understand existing components
- ✅ **API Standards** - Know service patterns and requirements
- ✅ **Testing Standards** - Understand test coverage requirements

### 🆕 GITLENS ENHANCED CONTEXT (AUTOMATIC)
- ✅ **Change History** - Recent modifications and evolution
- ✅ **Author Context** - Who made changes and their expertise
- ✅ **Branch Context** - Development branch and related work
- ✅ **Conflict Analysis** - Potential merge conflicts or overlaps
- ✅ **Pattern Evolution** - How patterns have changed over time

## 🔧 Task Execution Protocol

### Step 1: Enhanced Context Assessment (MANDATORY)
1. **Review Implementation Plan** - Understand feature requirements
2. **Examine Project Structure** - Verify code placement and organization
3. **Check Development Workflow** - Ensure quality standards compliance
4. **Analyze Bug Tracking** - Identify potential issues
5. **Review Security Requirements** - Check security compliance
6. **🆕 GitLens Context Analysis** - Review recent changes and patterns

### Step 2: GitLens-Enhanced Code Analysis
1. **Architecture Review** - Verify pattern consistency
2. **Component Analysis** - Check component usage and design
3. **API Review** - Validate endpoint design and patterns
4. **Data Flow Analysis** - Check data handling consistency
5. **Security Validation** - Verify security implementation
6. **🆕 Change Impact Analysis** - Assess impact on recently modified files

### Step 3: Enhanced Quality Assessment
1. **Code Quality** - Check readability and maintainability
2. **Test Coverage** - Verify testing implementation
3. **Documentation** - Check code documentation quality
4. **Performance** - Assess performance implications
5. **Error Handling** - Verify error management
6. **🆕 GitLens Consistency Check** - Verify alignment with recent changes

### Step 4: GitLens-Enhanced Feedback and Recommendations
1. **Issue Identification** - Document specific problems
2. **Solution Suggestions** - Provide actionable improvements
3. **Pattern Recommendations** - Suggest architectural improvements
4. **Security Enhancements** - Recommend security improvements
5. **Performance Optimizations** - Suggest performance improvements
6. **🆕 Change Consistency Recommendations** - Align with recent patterns

## ✅ Enhanced Quality Standards

### Review Quality
- **Comprehensive Analysis** - Cover all aspects of the code
- **Actionable Feedback** - Provide specific, implementable suggestions
- **Pattern Consistency** - Ensure architectural consistency
- **Security Focus** - Prioritize security considerations
- **Performance Awareness** - Consider performance implications
- **🆕 GitLens Alignment** - Consistent with recent code patterns

### Code Quality Standards
- **Test Coverage:** Minimum 80% for all code
- **Type Safety:** 100% TypeScript/Python type coverage
- **Documentation:** Comprehensive and accurate
- **Error Handling:** Proper error boundaries and user feedback
- **Security:** Follow security guidelines and best practices
- **🆕 Change Consistency:** Align with recent architectural decisions

### Architecture Standards
- **Pattern Consistency:** Follow established architectural patterns
- **Component Reuse:** Utilize existing components appropriately
- **Service Integration:** Follow established service patterns
- **Data Consistency:** Maintain database and API consistency
- **Scalability:** Consider future growth and maintenance
- **🆕 Evolution Consistency:** Align with recent pattern evolution

## 🚫 Enhanced Prohibited Actions

### WITHOUT PROPER CONTEXT
- ❌ **Review code** without understanding requirements
- ❌ **Suggest changes** without knowing architecture
- ❌ **Recommend patterns** without understanding context
- ❌ **Ignore security** without security review
- ❌ **Skip testing** without understanding test requirements
- ❌ **🆕 Ignore GitLens context** without understanding recent changes

### REVIEW VIOLATIONS
- ❌ **Superficial review** - Must be comprehensive
- ❌ **Vague feedback** - Must be specific and actionable
- ❌ **Ignore patterns** - Must maintain consistency
- ❌ **Skip security** - Security review mandatory
- ❌ **Ignore performance** - Performance consideration required
- ❌ **🆕 Ignore recent patterns** - Must align with recent changes

## 📚 Enhanced Required Documentation

### Before Review
- [ ] Implementation Plan reviewed and understood
- [ ] Project Structure analyzed and verified
- [ ] Development Workflow standards reviewed
- [ ] Bug Tracking patterns analyzed
- [ ] Security requirements understood
- [ ] 🆕 GitLens context analyzed and understood

### During Review
- [ ] Architecture patterns verified
- [ ] Component usage analyzed
- [ ] API design validated
- [ ] Security implementation checked
- [ ] Performance implications assessed
- [ ] 🆕 GitLens patterns referenced and validated

### After Review
- [ ] Issues documented with specific details
- [ ] Solutions suggested with implementation guidance
- [ ] Pattern recommendations provided
- [ ] Security improvements identified
- [ ] Performance optimizations suggested
- [ ] 🆕 Change consistency recommendations provided

## 🔍 Enhanced Validation Checklist

### Context Validation
- [ ] Implementation Plan reviewed and understood
- [ ] Project Structure analyzed and verified
- [ ] Development Workflow standards reviewed
- [ ] Bug Tracking patterns analyzed
- [ ] Security requirements understood
- [ ] 🆕 GitLens context analyzed and understood

### Review Validation
- [ ] Code comprehensively analyzed
- [ ] Architecture patterns verified
- [ ] Security implementation checked
- [ ] Performance implications assessed
- [ ] Quality standards validated
- [ ] 🆕 GitLens consistency verified

### Feedback Validation
- [ ] Issues documented with specific details
- [ ] Solutions suggested with implementation guidance
- [ ] Pattern recommendations provided
- [ ] Security improvements identified
- [ ] Performance optimizations suggested
- [ ] 🆕 Change consistency recommendations provided

## 🆕 GITLENS INTEGRATION FEATURES

### Automatic Context Gathering
- **Change History Analysis** - Recent modifications and evolution
- **Author Expertise Context** - Team member patterns and expertise
- **Branch Development Context** - Current development focus
- **Conflict Prevention** - Identify potential merge issues
- **Pattern Evolution Tracking** - How architectural patterns have evolved

### Enhanced Review Capabilities
- **Recent Pattern Reference** - Compare with established recent patterns
- **Change Impact Assessment** - Understand impact on recently modified code
- **Consistency Validation** - Ensure alignment with recent decisions
- **Team Collaboration Insights** - Understand who worked on related code
- **Evolution Tracking** - Document how changes relate to recent work

### Improved Feedback Quality
- **Context-Aware Suggestions** - Recommendations based on recent changes
- **Pattern Evolution Guidance** - Suggest improvements aligned with recent patterns
- **Conflict Prevention Advice** - Prevent issues with recent modifications
- **Consistency Recommendations** - Maintain alignment with recent decisions
- **Team Collaboration Suggestions** - Leverage team member expertise

## 🚨 ENFORCEMENT

### Mandatory Compliance
- **NO EXCEPTIONS** - Every review task must follow this prompt
- **NO BYPASSES** - Context Engineering cannot be skipped
- **NO ALTERNATIVES** - This is the only approved review process
- **🆕 GitLens Integration** - GitLens context must be considered

### Violation Consequences
1. **First Violation** - Immediate review termination and restart
2. **Second Violation** - Mandatory Context Engineering training
3. **Persistent Violations** - Review access revoked

### Success Criteria
- ✅ All required context reviewed and understood
- ✅ Code comprehensively analyzed
- ✅ Quality standards fully validated
- ✅ Feedback specific and actionable
- ✅ Security and performance considered
- ✅ 🆕 GitLens context integrated and followed

---

## 🎯 ENHANCED CONTEXT ENGINEERING PROMPT ACTIVE
**Category:** REVIEW (GitLens Enhanced)
**Prompt File:** AGENT_CE_ENHANCED_REVIEW.md
**Status:** ✅ LOADED AND ENFORCED
**GitLens Integration:** ✅ ACTIVE

**Remember:** This enhanced prompt is MANDATORY for ALL review tasks. GitLens context must be integrated for superior review quality. No exceptions, no bypasses, no alternatives.
