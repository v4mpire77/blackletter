# ü§ñ Agent Rules for Blackletter Systems

## üö® CRITICAL: All AI agents MUST follow these rules when working on this repository

### üìã Core Principles

1. **Legal Domain Expertise**: This is a legal technology platform. Always consider legal implications, compliance requirements, and professional standards.
2. **Security First**: Legal documents contain sensitive information. Security and privacy are paramount.
3. **Quality Over Speed**: Legal analysis must be accurate and reliable. Never sacrifice quality for speed.
4. **Documentation Required**: Every change must be properly documented for legal compliance and audit trails.

### üîí Security & Privacy Rules

#### MANDATORY Security Practices
- **NEVER** hardcode API keys, passwords, or sensitive data in code
- **ALWAYS** use environment variables for configuration
- **NEVER** log or expose legal document content in plain text
- **ALWAYS** implement proper input validation and sanitization
- **NEVER** commit test files containing real legal documents
- **ALWAYS** use HTTPS for all external communications
- **NEVER** store sensitive data in client-side code or browser storage

#### Data Handling
- Legal documents must be encrypted at rest and in transit
- Implement proper access controls and authentication
- Use secure file upload validation
- Implement audit logging for all document access
- Follow GDPR and data protection regulations

### üèóÔ∏è Code Quality Standards

#### Code Structure
- Follow PEP 8 for Python code
- Use TypeScript for all frontend code
- Implement comprehensive error handling
- Write self-documenting code with clear variable names
- Use dependency injection and SOLID principles

#### Testing Requirements
- **MANDATORY**: Write unit tests for all new functionality
- **MANDATORY**: Write integration tests for API endpoints
- **MANDATORY**: Test with real legal document formats
- Maintain minimum 80% code coverage
- Test edge cases and error conditions

#### Performance Standards
- API responses must complete within 30 seconds
- File uploads must support up to 10MB documents
- Implement proper caching strategies
- Use async/await for I/O operations
- Optimize database queries

### üìö Documentation Rules

#### Code Documentation
- **MANDATORY**: Document all public APIs and functions
- **MANDATORY**: Include usage examples
- **MANDATORY**: Document legal implications and compliance notes
- Use clear, professional language suitable for legal professionals
- Include parameter validation requirements

#### Architecture Documentation
- Update architecture diagrams when making structural changes
- Document data flow and security measures
- Maintain deployment and configuration guides
- Document legal compliance features

### üîß Project-Specific Rules

#### Legal Analysis Features
- **NEVER** make definitive legal recommendations
- **ALWAYS** include disclaimers about AI analysis limitations
- **ALWAYS** provide confidence scores for analysis results
- **NEVER** replace professional legal advice
- Implement proper risk assessment methodologies

#### AI/ML Components
- Use established, well-tested models for legal analysis
- Implement proper model versioning and rollback capabilities
- Monitor model performance and accuracy
- Provide explainability for AI decisions
- Implement human-in-the-loop validation where appropriate

#### API Design
- Follow RESTful principles
- Implement proper HTTP status codes
- Use consistent error response formats
- Include rate limiting and throttling
- Provide comprehensive API documentation

### üöÄ Development Workflow

#### Before Making Changes
1. **ALWAYS** read and understand the existing codebase
2. **ALWAYS** check for existing issues or PRs
3. **ALWAYS** understand the legal implications of changes
4. **ALWAYS** test changes in a development environment

#### During Development
1. **ALWAYS** follow the established project structure
2. **ALWAYS** use meaningful commit messages
3. **ALWAYS** implement proper error handling
4. **ALWAYS** consider backward compatibility
5. **ALWAYS** test with real legal documents

#### Before Submitting
1. **ALWAYS** run all tests and ensure they pass
2. **ALWAYS** check for security vulnerabilities
3. **ALWAYS** update relevant documentation
4. **ALWAYS** verify legal compliance requirements
5. **ALWAYS** test with multiple document formats

### üéØ Quality Assurance

#### Code Review Checklist
- [ ] Security review completed
- [ ] Legal compliance verified
- [ ] Tests written and passing
- [ ] Documentation updated
- [ ] Performance impact assessed
- [ ] Error handling implemented
- [ ] API compatibility maintained

#### Legal Compliance Checklist
- [ ] GDPR requirements met
- [ ] Data protection measures implemented
- [ ] Audit logging in place
- [ ] Access controls configured
- [ ] Encryption implemented
- [ ] Privacy policy considerations addressed

### üö´ Prohibited Actions

#### NEVER Do These
- Skip security reviews
- Ignore legal compliance requirements
- Remove existing security measures
- Use untested third-party libraries without vetting
- Implement features without proper documentation
- Make changes that could compromise data privacy
- Use hardcoded credentials or sensitive data
- Implement features that could provide incorrect legal advice

### üìû Escalation Procedures

#### When to Escalate
- Security vulnerabilities discovered
- Legal compliance issues identified
- Performance degradation beyond acceptable limits
- Data privacy concerns
- Integration failures with legal systems

#### How to Escalate
1. Document the issue thoroughly
2. Assess the potential impact
3. Create a detailed report
4. Notify relevant stakeholders
5. Implement immediate mitigations if necessary

### üîÑ Continuous Improvement

#### Regular Reviews
- Monthly security audits
- Quarterly legal compliance reviews
- Performance monitoring and optimization
- User feedback analysis
- Technology stack updates

#### Learning and Adaptation
- Stay updated on legal technology trends
- Monitor regulatory changes
- Learn from user feedback and issues
- Continuously improve AI model accuracy
- Enhance security measures based on threats

---

## üìã Agent Acknowledgment

By working on this repository, I acknowledge that I have read, understood, and will follow all the rules outlined above. I understand that this is a legal technology platform and that the quality, security, and compliance of my work directly impacts legal professionals and their clients.

**Remember**: When in doubt, prioritize security, legal compliance, and code quality over speed or convenience.

---

*Last Updated: January 2025*
*Version: 1.0*
*Applicable to: All AI agents working on Blackletter Systems repository*
